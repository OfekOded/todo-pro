<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List Pro</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="toast-container" class="toast-container"></div>
    <div id="app-container"></div>

    <template id="login-template">
        <div class="auth-container">
            <div class="auth-box">
                <div class="logo-icon"></div>
                <h2>To Do List Pro</h2>
                <form id="login-form">
                    <div class="input-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="input-group">
                        <div class="label-row">
                            <label for="login-password">Password</label>
                            <a href="#" class="forgot-link">Forgot password?</a>
                        </div>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn-primary">Log In</button>
                </form>
                <p class="auth-footer">Don't have an account? <a href="#/register">Sign up</a></p>
            </div>
        </div>
    </template>

    <template id="register-template">
        <div class="auth-container">
            <div class="auth-box">
                <div class="logo-icon"></div>
                <h2>To Do List Pro</h2>
                <form id="register-form">
                    <div class="input-group">
                        <label for="reg-name">Full Name</label>
                        <input type="text" id="reg-name" required>
                    </div>
                    <div class="input-group">
                        <label for="reg-email">Email</label>
                        <input type="email" id="reg-email" required>
                    </div>
                    <div class="input-group">
                        <label for="reg-password">Password</label>
                        <input type="password" id="reg-password" required>
                    </div>
                    <div class="input-group">
                        <label for="reg-password-confirm">Confirm Password</label>
                        <input type="password" id="reg-password-confirm" required>
                    </div>
                    <button type="submit" class="btn-primary">Sign Up</button>
                </form>
                <p class="auth-footer">Already have an account? <a href="#/">Log In</a></p>
            </div>
        </div>
    </template>

    <template id="tasks-template">
        <div class="app-layout">
            <header class="app-header">
                <div class="logo-area">
                    <div class="logo-icon-small"></div>
                    <h2>To Do List Pro</h2>
                </div>
                <div class="user-actions">
                    <button id="btn-logout">Logout</button>
                </div>
            </header>

            <main class="tasks-main">
                <div class="greeting-section">
                    <h1 id="user-greeting"></h1>
                    <p id="pending-count"></p>
                </div>

                <div class="controls-section">
                    <div class="search-bar">
                        <input type="text" id="search-input">
                        <button id="btn-clear-search" class="btn-clear hidden">X</button>
                    </div>
                    <div class="sort-bar">
                        <select id="task-sort">
                            <option value="date-asc">Date (Ascending)</option>
                            <option value="date-desc">Date (Descending)</option>
                            <option value="priority">Priority</option>
                        </select>
                    </div>
                    <button id="btn-open-modal" class="btn-primary">Add Task</button>
                </div>

                <div class="tabs-section">
                    <button class="tab" data-filter="all">All Tasks</button>
                    <button class="tab" data-filter="pending">Pending</button>
                    <button class="tab" data-filter="completed">Completed</button>
                </div>

                <div id="empty-state" class="empty-state hidden">
                    <div class="empty-icon"></div>
                    <h3>No tasks found</h3>
                    <p>Try adjusting your search or add a new task.</p>
                </div>

                <div class="tasks-list" id="tasks-container"></div>
            </main>

            <div id="add-task-modal" class="modal-overlay hidden">
                <div class="modal-box">
                    <div class="modal-header">
                        <h3>Task Details</h3>
                        <button id="btn-close-modal" class="btn-close">X</button>
                    </div>
                    <form id="task-form">
                        <input type="hidden" id="task-id">
                        <div class="input-group">
                            <label for="task-title">Task Title</label>
                            <input type="text" id="task-title" required>
                        </div>
                        <div class="input-group">
                            <label for="task-desc">Task Description</label>
                            <textarea id="task-desc"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="input-group">
                                <label for="task-category">Category</label>
                                <select id="task-category">
                                    <option value="personal">Personal</option>
                                    <option value="work">Work</option>
                                    <option value="shopping">Shopping</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="task-date">Due Date</label>
                                <input type="date" id="task-date">
                            </div>
                            <div class="input-group">
                                <label for="task-priority">Priority</label>
                                <select id="task-priority">
                                    <option value="low">Low</option>
                                    <option value="normal" selected>Normal</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn-secondary" id="btn-cancel-task">Cancel</button>
                            <button type="submit" class="btn-primary">Save Task</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </template>

    <template id="task-item-template">
        <div class="task-item">
            <input type="checkbox" class="task-checkbox">
            <div class="task-content">
                <div class="task-meta"></div>
                <p class="task-title"></p>
                <p class="task-description"></p>
                <div class="task-actions">
                    <button class="btn-edit">Edit</button>
                    <button class="btn-delete">Delete</button>
                </div>
            </div>
        </div>
    </template>

    <script src="js/db_api.js"></script>
    <script src="js/server_auth.js"></script>
    <script src="js/server_app.js"></script>
    <script src="js/network.js"></script>
    <script src="js/fajax.js"></script>
    <script src="js/spa.js"></script>
    <script src="js/app.js"></script>
</body>
</html>